# 1021. Remove Outermost Parentheses

https://leetcode.com/problems/remove-outermost-parentheses/description/?envType=problem-list-v2&envId=stack

## ğŸ“Œ Problem Summary
Given a valid parentheses string, remove the outermost parentheses of every primitive substring.

A primitive parentheses string is one that cannot be split into two non-empty valid strings.

---

## ğŸ§  Optimal Approach â€” Depth Counter

Instead of using a stack, track the nesting level using an integer `depth`.

### ğŸ‘‰ Idea:
- `'('` increases depth
- `')'` decreases depth
- Skip the parentheses that form the outer layer of each primitive

---

## âœ… When to Add Characters

| Character | Condition | Action |
|----------|----------|--------|
| `(` | depth > 0 before increment | add |
| `)` | depth > 0 after decrement | add |

Outer parentheses are ignored.

---

## ğŸ“‹ Algorithm Steps

1. Initialize `depth = 0`
2. Traverse each character:
   - If `'('`:
     - if `depth > 0` â†’ append to result  
     - increment depth
   - If `')'`:
     - decrement depth  
     - if `depth > 0` â†’ append to result
3. Return result string

---

## â± Time & Space Complexity

- **Time:** O(n)
- **Space:** O(n) (for output)

---

## ğŸš€ Why Not Stack?

- Stack uses extra memory
- Slower than integer counter
- Not needed since string is guaranteed valid

---

## ğŸ“Œ Key Pattern Learned

> Track nesting depth and ignore the outermost layer

Useful in many parentheses and string parsing problems.

---

## ğŸ’» Java Implementation

```java
class Solution {
    public String removeOuterParentheses(String s) {
        StringBuilder result = new StringBuilder();
        int depth = 0;

        for (char ch : s.toCharArray()) {
            if (ch == '(') {
                if (depth > 0) result.append(ch);
                depth++;
            } else {
                depth--;
                if (depth > 0) result.append(ch);
            }
        }
        return result.toString();
    }
}
